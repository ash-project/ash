defmodule Ash.Test.Flow.Flows.GetOrgByName do
  @moduledoc false
  use Ash.Flow

  flow do
    domain(Ash.Test.Flow.Domain)

    argument :org_name, :string do
      allow_nil? false
    end

    returns :get_org
  end

  steps do
    read :get_org, Ash.Test.Flow.Org, :by_name do
      get? true

      input(%{
        name: arg(:org_name)
      })
    end
  end
end
